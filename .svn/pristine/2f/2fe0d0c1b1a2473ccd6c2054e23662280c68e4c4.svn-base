// --------------------------------------------------------------
// Copyright (C)
// Universitat Politecnica de Catalunya (UPC) - Barcelona - Spain
// --------------------------------------------------------------

//!
//!  \file harris.hpp
//!
//!  Interface for Harris corner extraction
//!

#ifndef IMAGEPLUS_FILTERS_HARRIS_HPP
#define IMAGEPLUS_FILTERS_HARRIS_HPP

#include <imageplus/core.hpp>
#include <imageplus/math.hpp>
#include <imageplus/filters/linear_convolution.hpp>

namespace imageplus
{
	namespace filters
	{
		//! \brief Harris corner feature extractor
		//! 
	    //! The response of the Harris filter at a given image point
	    //! is defined as H=det(M)-K(tr(M))^2, where M is obtained
	    //! as the convolution of a gaussian kernel with specified
	    //! standard deviation against the produt of dI and dI trans-
	    //! posed, with dI computed as 
	    //!
		//! \param[in] in : image where corner features must be extracted
		//! \param[in] sigma : Standard deviation of the Gaussian filter
	    //! \param[in] k : K constant from above formula, typ: (0.04-0.15)
	    //!
		//! \return image with the extracted corner features
	    //!
		//! \author Jordi Salvador Marcos <jordi@gps.tsc.upc.edu>
		//!
		template <typename T>
		MultiArray<T,2> harris_corner_extractor( const MultiArray<T,2> & in, const float64 sigma, const float64 k );
	}
}

#endif
