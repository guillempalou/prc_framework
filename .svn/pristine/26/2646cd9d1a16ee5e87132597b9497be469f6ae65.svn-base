// --------------------------------------------------------------
// Copyright (C)
// Universitat Politecnica de Catalunya (UPC) - Barcelona - Spain
// --------------------------------------------------------------

/*!
 * \file imagergb.hpp
 */

#ifndef IMAGEPLUS_CORE_IMAGERGB_HPP
#define IMAGEPLUS_CORE_IMAGERGB_HPP

#include <imageplus/core/image.hpp>

namespace imageplus
{
    /*!
     * Class for RGB images (Red-Green-Blue)
     *
     * See ImaVol for further details.
     *
     * \see imageplus::ImaVol, imageplus::ImageGray, imageplus::ImageYUV
     *
     * \tparam T : the type of the data, usually uint8
     *
     * \author 2009-1 - Javier Ruiz Hidalgo - Creation
     * \author 2009-1 - Josep Ramon Morros  - Creation
     * \author 2011-7 - Albert Gil Moreno   - Review
     */
    template<typename T = uint8>
    class ImageRGB : public Image <T,3>
    {
    private:
        /*!
         * The base class of ImageRGB.
         *
         * Please note that it is Image, but Image is only specialization of ImaVol for 2D. \n
         * So, the real base class of ImageRGB is more ImaVol, than Image.
         */
        typedef Image <T,3> Base;
    public:

        /*!
         * Default constructor
         */
        ImageRGB();

        /*!
         * Copy constructor from the Base::Base class (ImaVol<T,3,2>)
         *
         * It also works to create an ImageRGB from a Image<T,3> and from another ImageRGB.
         *
         * \param[in] copy : ImaVol<T,3,2> to copy from
         *
         * \todo should we use T1 and T2 here?
         */
        ImageRGB(const ImaVol<T,3,2>& copy);

        /*!
         * Specific constructor for 2 dimensions (width/height)
         *
         * \param[in] width  : size of the first dimension (X) of the ImageRGB
         * \param[in] height : size of the second dimension (Y) of the ImageRGB
         */
        ImageRGB(std::size_t width, std::size_t height);

        /*!
         * Specific constructor by dimensions (per channel)
         *
         * \see ImaVol
         *
         * \param[in] dims: Vector of vectors with the dimension of each channel
         *
         * \todo agil: use array instead of vectors, or the ExtentsTemplate as in MultiArray
         */
        explicit
        ImageRGB(const std::vector< std::vector<uint64> >& dims);

        /*!
         * Assignment operator (=) from the Base::Base class (ImaVol<T,3,2>)
         *
         * \param[in] copy : ImaVol<T,3,2> to copy from
         *
         * \returns this, just to concatenate
         *
         * \todo should we use T1 and T2 here?
         */
        const ImageRGB& operator=( const ImaVol<T,3,2>& copy );

        /*!
         * Assignment operator (=) from a scalar value
         *
         * It fills the entire ImageRGB with the scalar value, all the channels.
         *
         * \param[in] scalar : the data_type to fill up the entire ImageRGB
         *
         * \todo agil: it should be a "RGB color", not a "T-scalar value"
         *
         * \returns this, just to concatenate
         */
        const ImageRGB& operator=( const T& scalar );
        
                    //!
            //! \brief Color space
            //!
            //! \return Color space
            //!
            virtual
            ColorSpace color_space() const
            {
                return rgb;
            }
    }; // ImageRGB
} //imageplus

#endif // IMAGEPLUS_CORE_IMAGERGB_HPP
