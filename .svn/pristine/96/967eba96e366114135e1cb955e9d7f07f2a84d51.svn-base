// --------------------------------------------------------------
// Copyright (C)
// Universitat Politecnica de Catalunya (UPC) - Barcelona - Spain
// --------------------------------------------------------------

//!
//!  \file point_geometry.hpp
//!
//!  \brief Interface for basic functionalities and operators for Point Geometry
//!
#ifndef IMAGEPLUS_MATH_GEOMETRY_POINT_GEOMETRY_HPP
#define IMAGEPLUS_MATH_GEOMETRY_POINT_GEOMETRY_HPP

#include <imageplus/core.hpp>

namespace imageplus { 

    namespace math {
        
        namespace geometry {
    
    	//!
    	//! \brief Euclidean distance between two imageplus points
    	//!
    	//! \author Adolfo López <alopez@gps.tsc.upc.edu>
    	//!
    	//! \date 5-2-2008
    	//!
    	//! \param[in] a : First operand (point)
    	//! \param[in] b : Second operand (point)
    	//!
    	//! \return float64 Distance
    	//!
        template < std::size_t S >    
    	float64 distance(const Point<S>& a, const Point<S>& b)
        {
            float64 dis=0.0;
    
            for (size_type i=0; i<S;i++)
            {
                dis+=pow(a[i]-b[i],2.0);
            }
            return std::sqrt(dis);
        }
    
    	
    	//!
    	//! \brief Computes a set of points belonging to a horizontal segment
    	//!
    	//! \author Eduardo Mendon�a <eduardo@gps.tsc.upc.es>                                      
    	//!
    	//! \date 16-5-2008                                    
    	//!                                                                                      
    	//! Given an array of points, and a range of the horizontal segment, all           
    	//! points are computed and stored from next_point position. If
    	//! ommited next_point is zero.                    
    	//!                                                                                      
    	//! \param[in] x_begin        : Coordinate to the beginning of the segment.
    	//! \param[in] x_end          : Coordinate to the end of the segment.
    	//! \param[in] y              : Coordinante of the segment
    	//! \param[in] point          : Array of points
    	//! \param[in] next_point     : Index of the next vacant point (equal to zero by default).
    	//!                                                                                      
    	//! \return Total number of points
    	//!                          
    	imageplus::size_type horizontal_segment_points(const int64 x_begin, const int64 x_end, const int64 y, 
    						       MultiArray<Coord2D<> , 1>& point, 
    						       const size_type next_point) throw (ImagePlusError);
    
        }
    }
}


#endif
