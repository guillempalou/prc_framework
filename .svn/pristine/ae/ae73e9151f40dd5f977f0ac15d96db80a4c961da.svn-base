// --------------------------------------------------------------
// Copyright (C)
// Universitat Politecnica de Catalunya (UPC) - Barcelona - Spain
// --------------------------------------------------------------

//!
//!  \file readyuv.hpp
//!
//!  Interface functions to read sequences in YUV format
//!


#ifndef IMAGEPLUS_IO_READYUV_HPP
#define IMAGEPLUS_IO_READYUV_HPP

#include <string>

#include <imageplus/core.hpp>
#include <imageplus/io/io_types.hpp>

namespace imageplus
{

    namespace io
    {

        //!
        //! \brief Reads information from a dat file
        //!
        //! \author Javier Ruiz Hidalgo <j.ruiz@upc.edu>
        //!
        //! \date   03-feb-08
        //!
        //! \param[in]      datfile : filename on disk of the dat file
        //! \param[out]       sizex : returns size X of frames
        //! \param[out]       sizey : returns size Y of frames
        //! \param[out] totalframes : returns total number of frames in the sequence
        //! \param[out]         fps : returns frames per secons
        //! \param[out]      format : returns format
        //! \param[out]     comment : returns comment if exists
        //!
        //!
        void read_dat_info(const std::string& datfile,
                           uint64& sizex,
                           uint64& sizey,
                           uint64& totalframes,
                           float64& fps,
                           SeqFormat& format,
                           std::string& comment) throw (ImagePlusError,ImagePlusFileNotFound);

        //!
        //! \brief Reads gray frames from 400 YUV sequences
        //!
        //! \author Javier Ruiz Hidalgo <j.ruiz@upc.edu>
        //!
        //! \date   03-feb-08
        //!
        //! \param[in]  filename : filename of the sequence in disk
        //! \param[in]     frame : frame number to read
        //! \param[in]     sizex : size X of the Y frame
        //! \param[in]     sizey : size Y of the Y frame
        //!
        //! \return imagegray read
        //!
        ImageGray<uint8> read_frame_yuv400(const std::string& filename,
                                           uint64 frame,
                                           uint64 sizex,
                                           uint64 sizey) throw (ImagePlusError,ImagePlusFileNotFound);

        //!
        //! \brief Reads YUV420 frames from 420 YUV sequences
        //!
        //! \author Javier Ruiz Hidalgo <j.ruiz@upc.edu>
        //!
        //! \date   03-feb-08
        //!
        //! \param[in]  filename : filename of the sequence in disk
        //! \param[in]     frame : frame number to read
        //! \param[in]     sizex : size X of the Y frame
        //! \param[in]     sizey : size Y of the Y frame
        //!
        //! \return image read
        //!
        ImageYUV420<uint8> read_frame_yuv420(const std::string& filename,
                                             uint64 frame,
                                             uint64 sizex,
                                             uint64 sizey) throw (ImagePlusError,ImagePlusFileNotFound);

        //!
        //! \brief Reads YUV frames from 444 YUV sequences
        //!
        //! \author Javier Ruiz Hidalgo <j.ruiz@upc.edu>
        //!
        //! \date   03-feb-08
        //!
        //! \param[in]  filename : filename of the sequence in disk
        //! \param[in]     frame : frame number to read
        //! \param[in]     sizex : size X of the Y frame
        //! \param[in]     sizey : size Y of the Y frame
        //!
        //! \return image read
        //!
        ImageYUV<uint8> read_frame_yuv444(const std::string& filename,
                                          uint64 frame,
                                          uint64 sizex,
                                          uint64 sizey) throw (ImagePlusError,ImagePlusFileNotFound);

    } // namespace io

} //namespace imageplus

#endif
