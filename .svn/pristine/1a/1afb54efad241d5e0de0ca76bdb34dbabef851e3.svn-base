// --------------------------------------------------------------
// Copyright (C)
// Universitat Politecnica de Catalunya (UPC) - Barcelona - Spain
// --------------------------------------------------------------

//
//  This file is used as a context check for the build system.
//  It is compiled, linked and executed to check if local environment is
//  ready for building the software.
//
//  Author: Albert Gil, UPC <agil@gps.tsc.upc.edu>
//
//  Date: 1-4-2008
//

#include <fftw3.h>

int main(int ac, char* av[])
{
      fftw_complex *in;
      int n = 10;
      fftw_complex *out;
      fftw_plan plan_forward;

    /*
     * Create the input array.
     */
      in  = static_cast<fftw_complex *> ( fftw_malloc ( sizeof ( fftw_complex ) * n ) );
      out = static_cast<fftw_complex *> ( fftw_malloc ( sizeof ( fftw_complex ) * n )) ;

    /*
     * Create the output array.
     */
      plan_forward = fftw_plan_dft_1d ( n, in, out, FFTW_FORWARD, FFTW_ESTIMATE );
      fftw_execute ( plan_forward );

    return 0;
}
